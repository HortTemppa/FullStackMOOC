(window.webpackJsonppuhelinluettelo=window.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},19:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(13),c=n.n(l),r=(n(19),n(2)),u=function(e){var t=e.filter,n=e.handleFilterChange;return o.a.createElement("form",null,o.a.createElement("div",null,"filter contacts: ",o.a.createElement("input",{value:t,onChange:n})))},i=function(e){var t=e.addContact,n=e.newName,a=e.newNumber,l=e.handleNewName,c=e.handleNewNumber;return o.a.createElement("form",{onSubmit:t},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:n,onChange:l})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:a,onChange:c})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add")))},s=function(e){var t=e.numbers,n=e.filter,a=e.handleDeleteButton;e.deleteContact;return t.length>0?t.filter((function(e){var t=n.toLowerCase();return e.name.toLowerCase().includes(t)})).map((function(e){return o.a.createElement("p",{key:e.id},e.name," ",e.number," ",o.a.createElement("button",{value:e.id,onClick:a},"Delete Contact"))})):null},d=n(3),m=n.n(d),f={getAllPersons:function(){return m.a.get("/api/persons")},createContact:function(e){return m.a.post("/api/persons",e)},deleteContact:function(e){return m.a.delete("".concat("/api/persons","/").concat(e))}},h=function(e){var t=e.goodMessage,n=e.notification;if(t){return n?o.a.createElement("p",{style:{marginLeft:"25%",marginRight:"25%",border:"solid",color:"#228B22"}},n):null}return n?o.a.createElement("p",{style:{marginLeft:"25%",marginRight:"25%",border:"solid",color:"red"}},n):null},b=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(""),d=Object(r.a)(c,2),m=d[0],b=d[1],v=Object(a.useState)(""),g=Object(r.a)(v,2),w=g[0],E=g[1],p=Object(a.useState)(""),C=Object(r.a)(p,2),j=C[0],O=C[1],N=Object(a.useState)(),y=Object(r.a)(N,2),S=y[0],k=y[1],P=Object(a.useState)(""),A=Object(r.a)(P,2),B=A[0],T=A[1],D=Object(a.useState)(!0),L=Object(r.a)(D,2),F=L[0],J=L[1];Object(a.useEffect)((function(){f.getAllPersons().then((function(e){l(e.data)}))}),[]),Object(a.useEffect)((function(){void 0!==S&&f.deleteContact(S).then((function(){return f.getAllPersons().then((function(e){console.log(e.data),l(e.data),k()}))}))}),[S]);return o.a.createElement("div",null,o.a.createElement("h1",null,"Phonebook"),o.a.createElement("h2",null,"Add a new contact"),o.a.createElement(h,{goodMessage:F,notification:B}),o.a.createElement(i,{addContact:function(e){e.preventDefault();var t={name:m,number:w};console.log(n);var a=n.map((function(e){return e.name}));return m?w?void(a.includes(m)?(J(!1),T("".concat(m," is already in the list of contacts.")),setTimeout((function(){T(null)}),2e3),E(""),b("")):f.createContact(t).then((function(e){console.log(e),l(n.concat(e.data));var t=m;J(!0),T("".concat(t," has been added to the list of contacts.")),setTimeout((function(){T(null)}),2e3),b(""),E("")}))):(J(!1),T("Please add a number"),void setTimeout((function(){T(null)}),2e3)):(J(!1),T("Please add a name"),void setTimeout((function(){T(null)}),2e3))},newName:m,newNumber:w,handleNewName:function(e){b(e.target.value)},handleNewNumber:function(e){E(e.target.value)}}),o.a.createElement("h2",null,"Contacts"),o.a.createElement(u,{filter:j,handleFilterChange:function(e){O(e.target.value)}}),o.a.createElement(s,{numbers:n,filter:j,handleDeleteButton:function(e){window.confirm("Are you sure you want to delete the contact?")&&(k(e.target.value),J(!0),T("Contact deleted"),setTimeout((function(){T(null)}),2e3))},deleteContact:f.deleteContact}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.cb12089d.chunk.js.map